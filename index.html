<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script src="pizza-cart-api.js"></script>
    <script defer src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"></script>


    <script>
    </script>
</head>

<body>
    <div x-data="pizzaCartWithAPIWidget">
        <div x-text = 'cartID'></div>
        <div>
            <h2>Pizza Menu</h2>

            <div>
                Customer name: <input type = 'text' placeholder = 'User name' x-model = 'username'>
            </div>

            <strong x-text = 'pizzas.length'></strong>
            <div>
                Cart total: <strong x-text = 'cart.total'></strong>
            </div>
            <div>
                <table>
                    <tr>
                       <th>Flavour</th>
                            <th>Quantity</th>
                            <th>Total</th> 
                    </tr>
                    <template x-for = 'pizza in cart.pizzas'>
                        <tr>
                            
                            <td x-text = 'pizza.flavour'></td>
                            <td x-text = 'pizza.qty'></td>
                            <td x-text = 'pizza.total'></td>
                        </tr>
                    </template>
                </table>
            </div>

            <table>
                <template x-for='pizza in pizzas'>
                    <tr>
                        <td x-text='pizza.flavour'></td>
                        <td x-text='pizza.size'></td>
                        <td x-text='pizza.price'></td>
                        <td>
                            <button @click = 'add(pizza)'>Buy</button>
                        </td>
                    </tr>
                </template>
            </table>

        </div>

    </div>
</body>

</html>